// Vuetify styles for global app usage
@import 'vuetify/styles';

// Let Vuetify handle theme colors naturally
body {
  margin: 0;
  padding: 0;
}

#app {
  min-height: 100vh;
}

// CSS Custom Properties for Theme Variables
:root {
  // Light theme variables
  --theme-background: #FFFFFF;
  --theme-surface: #F8FAFC;
  --theme-surface-variant: #F1F5F9;
  --theme-text-primary: #1E293B;
  --theme-text-secondary: #64748B;
  --theme-border: #E5E7EB;
  --theme-border-light: #F1F5F9;
  --theme-shadow: rgba(0, 0, 0, 0.08);
  --theme-hover-overlay: rgba(59, 130, 246, 0.04);
  
  // Status colors for light theme
  --theme-success: #10B981;
  --theme-error: #EF4444;
  --theme-warning: #F59E0B;
  --theme-info: #06B6D4;
  
  // Chart and visualization colors
  --theme-chart-background: #F3F4F6;
  --theme-chart-success: #10B981;
  --theme-chart-error: #EF4444;
}

// Dark theme variables
[data-theme="dark"] {
  --theme-background: #1A202C;
  --theme-surface: #2D3748;
  --theme-surface-variant: #4A5568;
  --theme-text-primary: #E2E8F0;
  --theme-text-secondary: #A0AEC0;
  --theme-border: #4A5568;
  --theme-border-light: #374151;
  --theme-shadow: rgba(0, 0, 0, 0.3);
  --theme-hover-overlay: rgba(96, 165, 250, 0.1);
  
  // Status colors for dark theme
  --theme-success: #34D399;
  --theme-error: #F87171;
  --theme-warning: #FBBF24;
  --theme-info: #22D3EE;
  
  // Chart and visualization colors
  --theme-chart-background: #374151;
  --theme-chart-success: #34D399;
  --theme-chart-error: #F87171;
}

// Smooth transitions for theme switching
* {
  transition: background-color 0.4s cubic-bezier(0.4, 0, 0.2, 1), 
              color 0.4s cubic-bezier(0.4, 0, 0.2, 1), 
              border-color 0.4s cubic-bezier(0.4, 0, 0.2, 1), 
              box-shadow 0.4s cubic-bezier(0.4, 0, 0.2, 1),
              opacity 0.3s ease;
}

// Enhanced transitions for specific elements
.v-card, .v-btn, .v-chip, .v-alert {
  transition: background-color 0.5s cubic-bezier(0.4, 0, 0.2, 1), 
              color 0.5s cubic-bezier(0.4, 0, 0.2, 1), 
              border-color 0.5s cubic-bezier(0.4, 0, 0.2, 1), 
              box-shadow 0.5s cubic-bezier(0.4, 0, 0.2, 1),
              transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

// Theme switching animation
html {
  transition: background-color 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

body {
  transition: background-color 0.6s cubic-bezier(0.4, 0, 0.2, 1), 
              color 0.6s cubic-bezier(0.4, 0, 0.2, 1);
}

// Staggered animation for theme changes
.v-expansion-panel {
  transition-delay: 0.1s;
}

.v-expansion-panel:nth-child(2) {
  transition-delay: 0.15s;
}

.v-expansion-panel:nth-child(3) {
  transition-delay: 0.2s;
}

.v-expansion-panel:nth-child(4) {
  transition-delay: 0.25s;
}

// Theme-aware utility classes
.theme-surface {
  background-color: var(--theme-surface) !important;
}

.theme-background {
  background-color: var(--theme-background) !important;
}

.theme-text-primary {
  color: var(--theme-text-primary) !important;
}

.theme-text-secondary {
  color: var(--theme-text-secondary) !important;
}

.theme-border {
  border-color: var(--theme-border) !important;
}

// Accessibility Enhancements for Dark Theme
// Focus indicators with proper contrast ratios
:focus-visible {
  outline: 2px solid #60A5FA;
  outline-offset: 2px;
  border-radius: 4px;
}

[data-theme="dark"] :focus-visible {
  outline: 2px solid #60A5FA;
  outline-offset: 2px;
  box-shadow: 0 0 0 4px rgba(96, 165, 250, 0.2);
}

// High contrast mode support
@media (prefers-contrast: high) {
  :root {
    --theme-text-primary: #000000;
    --theme-text-secondary: #333333;
    --theme-border: #000000;
  }
  
  [data-theme="dark"] {
    --theme-text-primary: #FFFFFF;
    --theme-text-secondary: #CCCCCC;
    --theme-border: #FFFFFF;
    --theme-background: #000000;
    --theme-surface: #111111;
  }
}

// Reduced motion support
@media (prefers-reduced-motion: reduce) {
  * {
    transition: none !important;
    animation: none !important;
  }
}

// Screen reader only content
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border: 0;
}

// Skip link for keyboard navigation
.skip-link {
  position: absolute;
  top: -40px;
  left: 6px;
  background: var(--theme-surface);
  color: var(--theme-text-primary);
  padding: 8px;
  text-decoration: none;
  border-radius: 4px;
  border: 2px solid var(--theme-border);
  z-index: 1000;
  transition: top 0.3s;
}

.skip-link:focus {
  top: 6px;
}

// Enhanced button focus states for accessibility
.v-btn:focus-visible {
  outline: 2px solid #60A5FA !important;
  outline-offset: 2px !important;
}

[data-theme="dark"] .v-btn:focus-visible {
  outline: 2px solid #60A5FA !important;
  outline-offset: 2px !important;
  box-shadow: 0 0 0 4px rgba(96, 165, 250, 0.2) !important;
}

// Enhanced form control focus states - Fixed Double Border
.v-text-field:focus-within,
.v-select:focus-within,
.v-file-input:focus-within {
  outline: none !important;
}

[data-theme="dark"] .v-text-field:focus-within,
[data-theme="dark"] .v-select:focus-within,
[data-theme="dark"] .v-file-input:focus-within {
  outline: none !important;
  box-shadow: none !important;
}

// Comprehensive form element styling for dark theme - Complete Double Border Fix
[data-theme="dark"] .v-field {
  background: var(--theme-surface-variant) !important;
  border: 1px solid var(--theme-border) !important;
  color: var(--theme-text-primary) !important;
  outline: none !important;
  box-shadow: none !important;
}

[data-theme="dark"] .v-field__input {
  color: var(--theme-text-primary) !important;
}

[data-theme="dark"] .v-field__input::placeholder {
  color: var(--theme-text-secondary) !important;
  opacity: 0.8 !important;
}

[data-theme="dark"] .v-label {
  color: var(--theme-text-secondary) !important;
}

[data-theme="dark"] .v-field__prepend-inner,
[data-theme="dark"] .v-field__append-inner {
  color: var(--theme-text-secondary) !important;
}

[data-theme="dark"] .v-field:hover {
  background: var(--theme-surface) !important;
  border-color: var(--theme-text-secondary) !important;
  outline: none !important;
  box-shadow: none !important;
}

[data-theme="dark"] .v-field--focused {
  background: var(--theme-surface) !important;
  border: 1px solid #60A5FA !important;
  outline: none !important;
  box-shadow: none !important;
}

// Override all possible Vuetify focus states
[data-theme="dark"] .v-text-field--focused .v-field,
[data-theme="dark"] .v-select--focused .v-field,
[data-theme="dark"] .v-file-input--focused .v-field {
  background: var(--theme-surface) !important;
  border: 1px solid #60A5FA !important;
  outline: none !important;
  box-shadow: none !important;
}

// Remove any default Vuetify outlines
[data-theme="dark"] .v-text-field,
[data-theme="dark"] .v-select,
[data-theme="dark"] .v-file-input {
  outline: none !important;
}

[data-theme="dark"] .v-text-field *,
[data-theme="dark"] .v-select *,
[data-theme="dark"] .v-file-input * {
  outline: none !important;
  box-shadow: none !important;
}

// Dropdown and menu styling
[data-theme="dark"] .v-overlay__content {
  background: var(--theme-surface) !important;
  border: 1px solid var(--theme-border) !important;
  box-shadow: 0 8px 32px rgba(0, 0, 0, 0.4) !important;
}

[data-theme="dark"] .v-list {
  background: var(--theme-surface) !important;
}

[data-theme="dark"] .v-list-item {
  color: var(--theme-text-primary) !important;
}

[data-theme="dark"] .v-list-item:hover {
  background: var(--theme-hover-overlay) !important;
}

[data-theme="dark"] .v-list-item--active {
  background: rgba(96, 165, 250, 0.2) !important;
  color: #60A5FA !important;
}

// Error message accessibility
.error-message {
  color: var(--theme-error);
  font-weight: 500;
  margin-top: 4px;
}

[data-theme="dark"] .error-message {
  color: var(--theme-error);
  background: rgba(248, 113, 113, 0.1);
  padding: 4px 8px;
  border-radius: 4px;
  border: 1px solid rgba(248, 113, 113, 0.3);
}

// Status indicators with sufficient contrast
.status-indicator {
  display: inline-flex;
  align-items: center;
  gap: 4px;
  font-weight: 500;
}

.status-indicator.passed {
  color: var(--theme-success);
}

.status-indicator.failed {
  color: var(--theme-error);
}

.status-indicator.skipped {
  color: var(--theme-warning);
}

[data-theme="dark"] .status-indicator.passed {
  color: #34D399;
}

[data-theme="dark"] .status-indicator.failed {
  color: #F87171;
}

[data-theme="dark"] .status-indicator.skipped {
  color: #FBBF24;
}
